<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>자바스크립트</title>
</head>
<body>
<h1>자바스크립트에서 사용하는 함수들</h1>
<p>
    자바스크립트에서 배열은 사용빈도가 높은 객체이다. 자바스크립트 배열객체는 배열을 다루기 위한 유용한 속성과 함수들이 제공된다.
</p>
<p>
    이번에 살펴볼 배열의 함수들은 고차함수라고 부르는 애들이다. 함수를 인자로 전달하거나 함수가 반환되는 함수들
</p>
<ul>
    <li>Arrays.prototype.filter(function(value, index, value){ })</li>
    <li>Arrays.prototype.sort(function(a, b) {} )</li>
    <li>Arrays.prototype.forEach(function(value, index, value) {} )</li>
    <li>Arrays.prototype.map(function(value, index, value) {} )</li>
</ul>
<script>
    let datas = [4, 1, -6, 4, -11, -97, -123];
    let result1 = datas.filter(function (value, index) {
        // console.log(value, index);
        if (value > 0) {
            return true;
        } else {
            return false;
        }
    });
    console.log(datas); // 필터는 원본은 안바뀌고 새로운애가 만들어지는거고
    console.log(result1);   //

    datas.sort(function (a, b) {
        if (a > b) {
            return 1;
        } else if (a < b) {
            return -1;
        } else {
            return 0;
        }
    });
    console.log(datas); // 원본 자체의 순서가 변경됨.

    let numbers = [7, 6, 10, 9, 11, 12, 8];
    // 10에 가장 가까운 순서대로 정렬하기
    numbers.sort(function (a, b) {
        if (Math.abs(10 - a) < Math.abs(10 - b)) {
            return -1;
        } else if (Math.abs(10 - a) > Math.abs(10 - b)) {
            return 1;
        } else {
            return 0;
        }
    });
    console.log(numbers);

    const persons = [
        {name: '김병재', age: 33, group : '하이미디어'},
        {name: "김수린", age: 23},
        {name: '김연서', age: 22},
        {name: '신지원', age: 27},
        {name: '윤형호', age: 19, group : '코드노바'}
    ];

    persons.push({name:'문진수', age:29});
    persons[1].group = '하이미디어';

    // 나이 오름차순
    persons.sort(function(a, b) {
        return a.age - b.age;
    });
    console.log(persons);



    // persons 배열에 들어가있는 모든 객체에, group 이라는 속성을 추가, (값은 하이미디어 )
    for(let one of persons) {
        if(!one.group) {
            one.group = '하이미디어';
        }
    }
    console.log(persons);

    let rr = persons.forEach(function(value, index){
       value.language ='한국어';
    });
    console.log(persons);

    let origin = [4,1,5,1,5,11, 6,1,2];

    let rrrr =origin.map(function(value, index) {
       // console.log(value, index);
        return value * value;
    });
    console.log(origin);
    console.log(rrrr);


    let pppp = persons.map(function(obj) {
        return {name : obj.name , language : obj.language};
    });
    console.log(pppp);


</script>
</body>
</html>